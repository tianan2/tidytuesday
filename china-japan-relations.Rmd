---
title: "Untitled"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(readxl)
theme_set(theme_light())

genron_poll <- read_excel("genron_npo.xlsx") %>% rename(year = "...1")
```

```{r}
genron_poll %>% 
  rename("Favorable" = china_f, 
         "Unfavorable" = china_u) %>% 
  gather(china, value, Favorable, Unfavorable) %>% 
  ggplot(aes(x = year, y = value / 100, color = china)) +
  geom_point() +
  geom_line(size = 2.5) + 
  scale_x_continuous(limits = c(2005, 2018), 
                     breaks = seq(2005, 2018, 1)) +
  scale_y_continuous(limits = c(0, 1), 
                     breaks = seq(0, 1, .1), 
                     labels = scales::percent_format()) +
  theme(legend.position = "bottom") +
  scale_color_discrete(labels = c("Favorable", "Unfavorable")) + 
  scale_colour_manual(values = c("blue", "red")) +
  labs(title = "Chinese Public Opinion toward Japan: Favorable / Unfavorable", 
       x = "Year", 
       y = " ", 
       color = " ", 
       caption = "Source: GenronNPO") +
  theme(plot.title = element_text(face = "bold", hjust = .5, size = 15))
  
```

```{r}
genron_poll %>% 
  rename("Favorable" = japan_f, 
         "Unfavorable" = japan_u) %>% 
  gather(china, value, Favorable, Unfavorable) %>% 
  ggplot(aes(x = year, y = value / 100, color = china)) +
  geom_point() +
  geom_line(size = 2.5) + 
  scale_x_continuous(limits = c(2005, 2018), 
                     breaks = seq(2005, 2018, 1)) +
  scale_y_continuous(limits = c(0, 1), 
                     breaks = seq(0, 1, .1), 
                     labels = scales::percent_format()) +
  theme(legend.position = "bottom") +
  scale_color_discrete(labels = c("Favorable", "Unfavorable")) + 
  scale_colour_manual(values = c("blue", "red")) +
  labs(title = "Japanese Public Opinion toward China: Favorable / Unfavorable", 
       x = "Year", 
       y = " ", 
       color = " ", 
       caption = "GenronNPO") +
  theme(plot.title = element_text(face = "bold", hjust = .5, size = 15))
```

